(()=>{"use strict";const e=(e,t,n)=>{switch(e=Number(e),n=Number(n),t){case"+":return function(e,t){return e+t}(e,n);case"-":return function(e,t){return e-t}(e,n);case"*":return function(e,t){return e*t}(e,n);case"/":return 0==n?null:function(e,t){return e/t}(e,n);default:return}},t=[{left:[1,"+","?"],right:[1,"+","?"],tiles:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14]},{left:[5,"-","?"],right:[3,"+","?"],tiles:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14]},{left:["?","-","5"],right:[2,"*","?"],tiles:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14]}],n=(()=>{document.querySelector(".game-left");const e=document.querySelector(".equation-wrapper"),t=document.querySelector("#tiles"),n=document.querySelector("#undo"),r=document.querySelector("#submit"),o=document.querySelector("#score"),u=(document.querySelectorAll(".value"),t=>{const n=t=>{const n=document.createElement("div");n.classList.add("equation-value"),"string"==typeof t&&(t.search(/[\+\-*\/]/)||n.classList.add("operator"),"="==t&&n.classList.add("equals")),n.textContent=t,e.appendChild(n)};for(let e=0;e<t.length;e++)n(t[e])});return{renderTiles:(e,n,r)=>{const o=(e,n,r,o)=>{const u=document.createElement("div");u.classList.add("tile"),u.textContent=e,u.dataset.index=n,t.appendChild(u),u.addEventListener(r,(e=>{o(e)}))};for(let t=0;t<e.length;t++)o(e[t],t,n,r)},renderEquation:u,updateEquation:t=>{e.innerHTML="",u(t)},activateSubmitBtn:e=>{r.addEventListener("click",e)},activateUndoBtn:e=>{n.addEventListener("click",e)},resetGameUI:()=>{e.innerHTML="",t.innerHTML=""},setScore:e=>{o.innerHTML=e}}})();!function r(o,u){const c=(t=>{const{left:n,right:r,tiles:o}=t,u=[...n,"=",...r],c=u.reduce(((e,t,n)=>("?"===t&&e.push(n),e)),[]);let i=0;return{tiles:o,equation:u,updateEquation:e=>{if(i>=c.length)return;const t=(e=>{const t=e.target.dataset.index;return o[t]})(e);u[c[i]]=t,i++},undo:()=>{i<=0||(u[c[i-1]]="?",i--)},checkEquation:()=>{const t=u.slice(0,3),n=u.slice(4,7);return e(...t)===e(...n)}}})(o[u]);n.resetGameUI(),n.setScore(100*u),n.renderEquation(c.equation),n.renderTiles(c.tiles,"click",(e=>{c.updateEquation(e),n.updateEquation(c.equation)})),n.activateUndoBtn((()=>{c.undo(),n.updateEquation(c.equation)})),n.activateSubmitBtn((e=>{console.log(u),c.checkEquation(e)&&u<=t.length?(console.log("WINNER!"),u++,r(o,u)):console.log("Womp womp :(")}))}(t,0)})();