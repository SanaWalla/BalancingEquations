(()=>{"use strict";const e=(e,t,n)=>{switch(e=Number(e),n=Number(n),t){case"+":return function(e,t){return e+t}(e,n);case"-":return function(e,t){return e-t}(e,n);case"*":return function(e,t){return e*t}(e,n);case"/":return 0==n?null:function(e,t){return e/t}(e,n);default:return}},t=(e,t,...n)=>{const r=document.createElement(e);for(let e in t)r.setAttribute(e,t[e]);return n.forEach((e=>{"string"==typeof e?r.appendChild(document.createTextNode(e)):r.appendChild(e)})),r},n=[{left:[1,"+","?"],right:[1,"+","?"],tiles:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14]},{left:[5,"-","?"],right:[3,"+","?"],tiles:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14]},{left:["?","-","5"],right:[2,"*","?"],tiles:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14]}],r=(()=>{const e=document.querySelector(".equation-wrapper"),n=document.querySelector("#tiles"),r=document.querySelector(".buttons-wrapper"),o=(document.querySelector("#undo"),document.querySelector("#submit"),document.querySelector(".game-right"),document.querySelector("#score")),u=document.querySelector("#time"),i=t=>{const n=t=>{const n=document.createElement("div");n.classList.add("equation-value"),"string"==typeof t&&(t.search(/[\+\-*\/]/)||n.classList.add("operator"),"="==t&&n.classList.add("equals")),n.textContent=t,e.appendChild(n)};for(let e=0;e<t.length;e++)n(t[e])};return{renderTiles:(e,t,r)=>{const o=(e,t,r,o)=>{const u=document.createElement("div");u.classList.add("tile"),u.textContent=e,u.dataset.index=t,n.appendChild(u),u.addEventListener(r,(e=>{o(e)}))};for(let n=0;n<e.length;n++)o(e[n],n,t,r)},renderEquation:i,updateEquation:t=>{e.innerHTML="",i(t)},renderSubmitBtn:e=>{r.querySelector("#submit")&&r.removeChild(r.querySelector("#submit"));const n=t("div",{id:"submit",class:"btn submit"},"Submit");n.addEventListener("click",e),r.appendChild(n)},renderUndoBtn:e=>{r.querySelector("#undo")&&r.removeChild(r.querySelector("#undo"));const n=t("div",{id:"undo",class:"btn undo"},"Undo");n.addEventListener("click",e),r.appendChild(n)},resetGameUI:()=>{e.innerHTML="",n.innerHTML=""},setScore:e=>{o.innerHTML=e},setTime:e=>{const t=Math.floor(e/6e4),n=String(e%6e4).padStart(2,"0");u.innerHTML=`${t}:${n}`}}})();!function t(o,u,i){const c=((t,n)=>{const{left:r,right:o,tiles:u}=t,i=[...r,"=",...o],c=i.reduce(((e,t,n)=>("?"===t&&e.push(n),e)),[]);let d=0;return setInterval((()=>{n-=1e3}),1e3),{tiles:u,equation:i,getTime:()=>n,updateEquation:e=>{if(d>=c.length)return;const t=(e=>{const t=e.target.dataset.index;return u[t]})(e);i[c[d]]=t,d++},undo:()=>{d<=0||(i[c[d-1]]="?",d--)},checkEquation:()=>{const t=i.slice(0,3),n=i.slice(4,7);return e(...t)===e(...n)}}})(o[u],i);r.resetGameUI(),r.setScore(100*u),r.renderEquation(c.equation),r.renderTiles(c.tiles,"click",(e=>{c.updateEquation(e),r.updateEquation(c.equation)})),r.renderSubmitBtn((e=>{c.checkEquation(e)&&u<=n.length?(console.log("WINNER!",c.getTime()),u++,t(o,u,c.getTime())):console.log("Womp womp :(")})),r.renderUndoBtn((()=>{c.undo(),r.updateEquation(c.equation)}))}(n,0,6e4)})();