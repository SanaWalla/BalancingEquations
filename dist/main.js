(()=>{"use strict";const e=(e,t,n)=>{switch(e=Number(e),n=Number(n),t){case"+":return function(e,t){return e+t}(e,n);case"-":return function(e,t){return e-t}(e,n);case"*":return function(e,t){return e*t}(e,n);case"/":return 0==n?null:function(e,t){return e/t}(e,n);default:return}},t=[{left:[1,"+","?"],right:[1,"+","?"],tiles:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14]},{left:[5,"-","?"],right:[3,"+","?"],tiles:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14]},{left:["?","-","5"],right:[2,"*","?"],tiles:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14]}],n=(()=>{const e=document.querySelector(".equation-wrapper"),t=document.querySelector("#tiles"),n=document.querySelector("#undo"),r=document.querySelector("#submit"),o=document.querySelector("#score"),i=t=>{const n=t=>{const n=document.createElement("div");n.classList.add("equation-value"),"string"==typeof t&&(t.search(/[\+\-*\/]/)||n.classList.add("operator"),"="==t&&n.classList.add("equals")),n.textContent=t,e.appendChild(n)};for(let e=0;e<t.length;e++)n(t[e])};return{renderTiles:(e,n,r)=>{const o=(e,n,r,o)=>{const i=document.createElement("div");i.classList.add("tile"),i.textContent=e,i.dataset.index=n,t.appendChild(i),i.addEventListener(r,(e=>{o(e)}))};for(let t=0;t<e.length;t++)o(e[t],t,n,r)},renderEquation:i,updateEquation:t=>{e.innerHTML="",i(t)},activateSubmitBtn:e=>{r.addEventListener("click",e)},activateUndoBtn:e=>{n.addEventListener("click",e)},resetGameUI:()=>{e.innerHTML="",t.innerHTML=""},setScore:e=>{o.innerHTML=e}}})();!function r(o,i){const u=(t=>{const{left:n,right:r,tiles:o}=t,i=[...n,"=",...r],u=i.reduce(((e,t,n)=>("?"===t&&e.push(n),e)),[]);let c=0;return{tiles:o,equation:i,updateEquation:e=>{if(c>=u.length)return;const t=(e=>{const t=e.target.dataset.index;return o[t]})(e);i[u[c]]=t,c++},undo:()=>{c<=0||(i[u[c-1]]="?",c--)},checkEquation:()=>{const t=i.slice(0,3),n=i.slice(4,7);return e(...t)===e(...n)}}})(o[i]);n.resetGameUI(),n.setScore(100*i),n.renderEquation(u.equation),n.renderTiles(u.tiles,"click",(e=>{u.updateEquation(e),n.updateEquation(u.equation)})),n.activateUndoBtn((()=>{u.undo(),n.updateEquation(u.equation)})),n.activateSubmitBtn((e=>{console.log(i),u.checkEquation(e)&&i<=t.length?(console.log("WINNER!"),i++,r(o,i)):console.log("Womp womp :(")}))}(t,0)})();